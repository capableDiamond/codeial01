<link rel="stylesheet" href="/css/like.css">
<div class="like" id="like-post-<%= post._id %>">
    <p><%= post.likes.length %></p>
    <a href="/likes/toggle/?id=<%= post._id %>&type=Post" class="like-link">
        
        <!-- check for post id in liked by user to see if the post has been liked by user -->
        <!-- also handle the case when it does not enters the above loop ,that is nothing has been liked by user yet-->
        <% var likeAdded = false; %>

        <% if(likedByUser.length == 0){%>
            <i class="fa-regular fa-heart" style="color: #000000;"></i>
            <% likeAdded = true %>
        <% }else{ %>
            <% for(i of likedByUser){ %>
                <% if(i.likeable.toString() == post._id){ %>
                    <i class="fa-solid fa-heart" style="color: #ff0000;"></i>
                    <% likeAdded = true; %>
                    <% break; %>
                <% } %>
            <% } %>
        <% } %>
            <% if(!likeAdded){ %>
                <i class="fa-regular fa-heart" style="color: #000000;"></i> 
            <% } %>
        Like
    </a>
</div>
